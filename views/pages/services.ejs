<% const services = [
{ title: "Brake Repair", description: "Expert brake system repairs to ensure your vehicle stops safely and efficiently.", image: "/img/BrakeRepair.jpeg" },
{ title: "Coolant System Repair", description: "Comprehensive coolant system services to prevent overheating and maintain engine performance.", image: "/img/CoolantSystemRepair.jpeg" },
{ title: "DOT Inspection", description: "Professional DOT inspections to ensure your vehicle meets all safety and regulatory standards.", image: "/img/DotInspection.jpg" },
{ title: "Diagnostics & Electrical Repair", description: "Advanced diagnostics and electrical system repairs to keep your vehicle running smoothly.", image: "/img/DiagnosticsAndElectricalRepairs.jpg" },
{ title: "Driveline Repair", description: "Specialized driveline services to address issues with your vehicle's drivetrain components.", image: "/img/DrivelineRepair.jpg" },
{ title: "EGR & DPF Cleaning", description: "Thorough EGR and DPF cleaning services to improve engine efficiency and reduce emissions.", image: "/img/EGRAndDPFCleaning.jpg" },
{ title: "Engine Repair, Overhaul & Conversion", description: "Complete engine repairs, overhauls, and conversions to restore or enhance performance.", image: "/img/EngineRepair.jpg" },
{ title: "Exhaust System Repair", description: "Reliable exhaust system repairs to reduce emissions and improve vehicle performance.", image: "/img/ExhaustSystemRepair.jpg" },
{ title: "HVAC System Repair", description: "Expert HVAC system repairs to ensure your vehicle's heating and cooling systems function optimally.", image: "/img/HVACSystemRepair.jpg" },
{ title: "Mobile Truck Repair", description: "Convenient mobile repair services to address your truck's maintenance needs on the go.", image: "/img/MobileTruckRepair.jpeg" },
{ title: "Oil & Fluid", description: "Professional oil and fluid services to keep your engine and other systems running smoothly.", image: "/img/OilAndFluid.jpg" },
{ title: "Preventive Maintenance", description: "Proactive maintenance services to prevent breakdowns and extend the life of your vehicle.", image: "/img/PreventiveMaintenance.jpg" },
{ title: "Suspension Repair", description: "Comprehensive suspension repairs to ensure a smooth and stable ride.", image: "/img/SuspensionRepair.jpg" },
{ title: "Transmission Repair", description: "Expert transmission repairs to keep your vehicle shifting smoothly and efficiently.", image: "/img/TransmissionRepair.jpg" }
]; %>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/img/logo.png" type="image/x-icon">
    <title>ALLTIME REPAIR</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        /* Initially hide elements */
        [data-animate] {
            opacity: 0;
        }

        @keyframes upDown {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(10px);
            }
        }

        .limited-animation {
            animation: upDown 2s infinite alternate;
            animation-iteration-count: 6;
            /* Change this number to the desired number of iterations */
        }
    </style>
</head>
<body class="relative bg-neutral-950 max-w-7xl mx-auto border">

    <header>
        <%- include('../partials/header'); %>
    </header>

    <section class="text-center text-neutral-50 px-8 py-10 gap-12">
        <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold mb-4 uppercase tracking-wider">Our Services</h2>
        <p class="text-md md:text-lg lg:text-xl leading-relaxed mb-8">Explore our comprehensive range of professional services designed to meet all your fleet needs.</p>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 mx-5">
            <% services.forEach(service => { %>
                <div data-animate class="bg-neutral-900 rounded-2xl overflow-hidden shadow-lg flex flex-col md:flex-row md:h-72 border-t border-b lg:border-t-0 lg:border-b-0 lg:border-l lg:border-r border-lime-500">
                    <div id="service-image" class="relative w-full md:w-1/2 max-h-auto md:max-h-full">
                        <img src="<%= service.image %>" alt="<%= service.title %>" class="w-full h-full object-cover rounded-t-lg md:rounded-l-lg md:rounded-t-none">
                    </div>
                    <div id="service-text" class="text-left p-4 flex flex-col justify-end md:justify-between md:w-1/2 h-full gap-5">
                        <div id="info-head" class="text-center md:text-left">
                            <h3 class="text-2xl font-bold mb-4"><%= service.title %></h3>
                            <p class="text-md leading-relaxed"><%= service.description %></p>
                        </div>
                        <div id="info-cta" class="mt-4 md:mt-0 text-center">
                            <a href="/services/<%= service.title.toLowerCase().replace(/[,\s]/g, "-").replace(/and/g, "").split(" ").join("-") %>" class="block text-lime-500 font-black w-full text-xl py-3 border border-lime-500 rounded-lg hover:bg-lime-600 hover:text-neutral-50 transition duration-300 transform">Learn More</a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </section>
    
</body>
<script>
    // Set up Intersection Observer
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-fade-in');
                entry.target.style.opacity = '1'; // Make element visible
                observer.unobserve(entry.target); // Stop observing after animation
            }
        });
    }, {
        threshold: 0.1, // Trigger when 10% of the element is visible
    });

    // Observe all elements with the `data-animate` attribute
    document.querySelectorAll('[data-animate]').forEach((element) => {
        observer.observe(element);
    });
</script>  
</html>